<section class="hero is-fullheight-with-navbar">
  <div class="hero-head" >

    <div class="container">
      <uic-lodging-search-form (submitted)="onSearchSubmit($event)"></uic-lodging-search-form>
    </div>

    <div class="container" *ngFor="let lodge of lodgings">
      <br>
      <h1 class="title is-2">{{lodge.name}}</h1>
      <!--IMAGES START-->
      <div class="tile is-ancestor">
        <div class="tile is-6 is-parent is-vertical">
          <div class="tile is-child">
            <figure class="image is-16by9">
              <img alt="placeholder image" src="{{lodge.images[0].image}}">
            </figure>
          </div>
        </div>
        <div class="tile is-vertical">
          <div class="tile">
            <div class="tile is-parent is-vertical">
              <div class="tile is-child">
                <figure class="image is-5by3">
                  <img alt="placeholder image" src="{{lodge.images[1].image}}">
                </figure>
              </div>
              <div class="tile is-child">
                <figure class="image is-5by3">
                  <img alt="placeholder image" src="{{lodge.images[2].image}}">
                </figure>
              </div>
            </div>
            <div class="tile is-parent is-vertical">
              <div class="tile is-child">
                <figure class="image is-5by3">
                  <img alt="placeholder image" src="{{lodge.images[3].image}}">
                </figure>
              </div>

              <div class="tile is-child">
                <figure class="image is-5by3">
                  <img alt="placeholder image" src="{{lodge.images[4].image}}">
                </figure>
              </div>
            </div>

            <div class="tile is-parent is-vertical">
              <div class="tile is-child">
                <figure class="image is-5by3">
                  <img alt="placeholder image" src="{{lodge.images[5].image}}">
                </figure>
              </div>

              <div class="tile is-child">
                <figure class="image is-5by3">
                  <img alt="placeholder image" src="{{lodge.images[6].image}}">
                </figure>
              </div>
            </div>
          </div>
          <!--IMAGES END-->
          <!--Title for Lodging-->
          <div class="tile is-parent">
            <div class="tile box has-background-dark is-child">
              <div class="level">
                <div class="level-item">
                  <div>
                    <p class="title has-text-light is-3">{{lodge.name}}</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="tile is-ancestor">
        <div class="tile is-3">
          <div class="tile is-parent">
            <div class="tile box is-child">
              <h2 class="title is-4">Overview</h2>

              <div class="level">
                <div class="level-left">
                  <div class="level-item">
                    <div>
                      <p class="heading">Address</p>
                      <p class="title is-6">{{lodge.location.address.street}}</p>
                      <p class="title is-6">{{lodge.location.address.city}}, {{lodge.location.address.stateProvince}} {{lodge.location.address.postalCode}}</p>
                      <p class="title is-6">{{lodge.location.address.country}}</p>
                    </div>
                  </div>
                </div>
              </div>

              <div class="level">
                <div class="level-left">
                  <div class="level-item">
                    <div>
                      <p class="heading">Amenity</p>
                      <p>
                        <span *ngFor="let amenity of lodge.amenities" class="icon">
                          <i aria-hidden="true" class="fas fa-{{getIconName(amenity.amenity)}}"></i>
                        </span>
                      </p>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="tile">
          <div class="tile is-parent">
            <div class="tile box is-child" *ngFor ="let rental of lodge.rentals" >
              <h2 class="title is-4">Rooms</h2>
              <div class="level" *ngFor ="let room of rental.rentalUnit.bedrooms" >
                <div class="level-item">
                  <figure class="image is-64x64">
                    <img alt="placeholder image" class="is-rounded" src="{{room.images[0].image}}">
                  </figure>
                </div>
                <div class="level-item has-text-centered" >
                  <div>
                    <p class="heading">Beds</p>
                    <p class="title is-6">{{room.bedCount}} {{room.bedType.bedType}}</p>
                  </div>
                </div>
                <div class="level-item has-text-centered">
                  <div>
                    <p class="heading">Room</p>
                    <p class="title is-6">{{room.roomNumber}}</p>
                  </div>
                </div>
                <div class="level-item has-text-centered">
                  <div>
                    <p class="heading">Amenity</p>
                    <p>
                      <span *ngFor="let amenity of room.amenities; let i = index" class="icon">
                        <i *ngIf="3 > i" aria-hidden="true" class="fas fa-{{getIconName(amenity.amenity)}}"></i>
                      </span>
                      <span *ngFor="let blank of countAmenities(room.amenities)" class="icon">
                        <i></i>
                      </span>
                    </p>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="tile is-parent">
            <div class="tile box is-child">
              <h2 class="title is-4">reviews</h2>

              <div class="level">
                <div class="level-item">
                  <figure class="image is-64x64">
                    <img alt="placeholder image" class="is-rounded" src="https://bulma.io/images/placeholders/128x128.png">
                  </figure>
                </div>
                <div class="level-item has-text-centered">
                  <div>
                    <p class="heading">reviewer</p>
                    <p class="title is-6">Lorem Ipsum</p>
                  </div>
                </div>

                <div class="level-item has-text-centered">
                  <div>
                    <p class="heading">rating</p>
                    <p class="title is-6">8.0</p>
                  </div>
                </div>

                <div class="level-item has-text-centered">
                  <div>
                    <p class="heading">date</p>
                    <p class="title is-6">2020-12-29</p>
                  </div>
                </div>
              </div>

              <hr>
              <div class="level">
                <div class="level-item">
                  <figure class="image is-64x64">
                    <img alt="placeholder image" class="is-rounded" src="https://bulma.io/images/placeholders/128x128.png">
                  </figure>
                </div>

                <div class="level-item has-text-centered">
                  <div>
                    <p class="heading">reviewer</p>
                    <p class="title is-6">Lorem Ipsum</p>
                  </div>
                </div>

                <div class="level-item has-text-centered">
                  <div>
                    <p class="heading">rating</p>
                    <p class="title is-6">8.5</p>
                  </div>
                </div>

                <div class="level-item has-text-centered">
                  <div>
                    <p class="heading">date</p>
                    <p class="title is-6">2020-12-29</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
</div>
</div>
</div>
<!--<app-lodging-search-form></app-lodging-search-form>-->
<!--previous page / next page buttons-->
<br><br>
<div class="columns is-mobile">
  <div class="column is-one-fifth"><a *ngIf="this.currentPageIndex > 0" (click)="previousPage()">&lt;Previous Page</a></div>
  <div class="column is-one-fifth is-offset-8"><a *ngIf="this.currentPageIndex < this.lastPageIndex" (click)="nextPage()">Next Page&gt;</a></div>
</div>
</section>

<!--This button is what you would put whereever you want them to open the Modal-->
<button (click)="reviewModal.openModal($event)">Open Review Modal</button>

<!--This just needs to be at the bottom or whereever, the Modal itself overlays the page-->
<uic-lodging-review-modal #reviewModal>Adding a review content goes here!</uic-lodging-review-modal>
